# Notebooks

## üöÄ –ü–æ–¥—Ö–æ–¥ –∫ EDA: –ì–∏–±—Ä–∏–¥–Ω—ã–π (3 —ç—Ç–∞–ø–∞)

### –≠—Ç–∞–ø 1: –ë—ã—Å—Ç—Ä—ã–π EDA –Ω–∞ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (30-60 –º–∏–Ω)
**Notebook:** `00_quick_eda_raw_data.ipynb`  
**–î–∞–Ω–Ω—ã–µ:** `data/raw/train.csv` (—Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)  
**–¶–µ–ª—å:** –ë—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—è–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏—á–µ–π
**–°–∫—Ä–∏–ø—Ç:** `src/features/example_usage.py`  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `data/processed/train_features.csv`

### –≠—Ç–∞–ø 3: –ü–æ–ª–Ω—ã–π EDA –Ω–∞ —Ñ–∏—á–∞—Ö (2-4 —á–∞—Å–∞)
**Notebook:** `01_comprehensive_eda_features.ipynb`  
**–î–∞–Ω–Ω—ã–µ:** `data/processed/train_features.csv` (–¥–∞–Ω–Ω—ã–µ —Å —Ñ–∏—á–∞–º–∏)  
**–¶–µ–ª—å:** –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏

### –≠—Ç–∞–ø 4: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–∏—á–µ–π (30-60 –º–∏–Ω)
**Notebook:** `02_feature_validation.ipynb`  
**–î–∞–Ω–Ω—ã–µ:** `data/processed/train_features.csv` (–¥–∞–Ω–Ω—ã–µ —Å —Ñ–∏—á–∞–º–∏)  
**–¶–µ–ª—å:** –ê–Ω–∞–ª–∏–∑ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π, –ø–æ–∏—Å–∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ–∏—á–µ–π, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä 00_quick_eda_raw_data.ipynb

**–ë—ã—Å—Ç—Ä—ã–π EDA –Ω–∞ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
   - –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å, –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—Ö–≤–∞—Ç
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ store/item
   - –ü–æ–ª–Ω–æ—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**
   - –ü—Ä–æ–ø—É—Å–∫–∏, –¥—É–±–ª–∏–∫–∞—Ç—ã
   - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –î–∏–∞–ø–∞–∑–æ–Ω—ã –∑–Ω–∞—á–µ–Ω–∏–π

3. **–ë–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
   - –í—ã–±—Ä–æ—Å—ã, –Ω—É–ª–µ–≤—ã–µ –ø—Ä–æ–¥–∞–∂–∏
   - –ë–∞–∑–æ–≤—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

4. **–í—ã–≤–æ–¥—ã –∏ —Ä–µ—à–µ–Ω–∏—è**
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è Feature Engineering

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
jupyter notebook notebooks/00_quick_eda_raw_data.ipynb
```

---

## üìä 01_comprehensive_eda_features.ipynb

**–ü–æ–ª–Ω—ã–π EDA –Ω–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏—á–∞–º–∏** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏—á–µ–π.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **–ê–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –≤—ã–±—Ä–æ—Å—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

2. **–ê–Ω–∞–ª–∏–∑ —Ñ–∏—á–µ–π**
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ñ–∏—á–µ–π
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å–æ –≤—Å–µ–º–∏ —Ñ–∏—á–∞–º–∏
   - –í–∞–∂–Ω–æ—Å—Ç—å —Ñ–∏—á–µ–π

3. **–í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑**
   - –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å (–º–µ—Å—è—á–Ω–∞—è, –Ω–µ–¥–µ–ª—å–Ω–∞—è)
   - –¢—Ä–µ–Ω–¥—ã
   - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ store/item

4. **–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏—á–∞–º–∏**
   - –ü—Ä–æ–ø—É—Å–∫–∏ –≤ —Ñ–∏—á–∞—Ö (–ª–∞–≥–∏, rolling)
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∏—á–µ–π

5. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ö–∞–∫–∏–µ —Ñ–∏—á–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   - –ö–∞–∫–∏–µ —É–¥–∞–ª–∏—Ç—å
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
jupyter notebook notebooks/01_comprehensive_eda_features.ipynb
```

### –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

Notebook –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `data/processed/train_features.csv`:
- –ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –±—ã—Å—Ç—Ä—ã–π EDA)

---

## ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç Data Leakage

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `src/features/build_features.py` –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç data leakage:
- ‚úÖ **Lag features**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `shift(lag)` –≤–Ω—É—Ç—Ä–∏ `groupby(['store', 'item'])`
- ‚úÖ **Rolling features**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `shift(1)` –ø–µ—Ä–µ–¥ `rolling()`
- ‚úÖ **EWMA features**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `shift(1)` –ø–µ—Ä–µ–¥ `ewm()`
- ‚úÖ **Aggregated features**: –∏—Å–ø–æ–ª—å–∑—É—é—Ç `shift(1)` –ø–µ—Ä–µ–¥ `expanding()`

**–í–∞–∂–Ω–æ:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `groupby(['store', 'item'])` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤.

---

## üîç 02_feature_validation.ipynb

**–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ —Ñ–∏—á–µ–π** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏—á–µ–π –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—é.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π**
   - –¢–æ–ø-—Ñ–∏—á–∏ –ø–æ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å sales
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–∂–Ω–æ—Å—Ç–∏ —Ñ–∏—á–µ–π
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π

2. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É —Ñ–∏—á–∞–º–∏**
   - –ü–æ–∏—Å–∫ –ø–∞—Ä —Å –≤—ã—Å–æ–∫–æ–π –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–µ–π (>0.95, >0.90)
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (heatmap)
   - –í—ã—è–≤–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

3. **–ü–æ–∏—Å–∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ–∏—á–µ–π**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é
   - –°–ø–∏—Å–æ–∫ —Ñ–∏—á–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

4. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ñ–∏—á–µ–π**
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º (lag, rolling, interaction –∏ —Ç.–¥.)
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

5. **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ñ–∏—á–µ–π**
   - –ü—Ä–æ–ø—É—Å–∫–∏ –≤ —Ñ–∏—á–∞—Ö
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ —Ñ–∏—á–∏
   - –î—É–±–ª–∏–∫–∞—Ç—ã (–∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ñ–∏—á–∏)

6. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –¢–æ–ø-—Ñ–∏—á–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –§–∏—á–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
   - –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –±—É—Å—Ç–∏–Ω–≥–∞

7. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏**
   - Pearson vs Spearman
   - –í—ã—è–≤–ª–µ–Ω–∏–µ –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
jupyter notebook notebooks/02_feature_validation.ipynb
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –§–∞–π–ª `data/processed/train_features.csv` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω
- –ú–æ–¥—É–ª—å `src/features/validation.py` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

Notebook –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –°–ø–∏—Å–æ–∫ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ñ–∏—á–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- –¢–æ–ø-—Ñ–∏—á–∏ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π

